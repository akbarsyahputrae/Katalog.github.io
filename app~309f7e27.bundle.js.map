{"version":3,"file":"app~309f7e27.bundle.js","mappings":"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","sources":["webpack://restaurant-apps/./src/scripts/views/pages/detail.js","webpack://restaurant-apps/./src/scripts/views/pages/favorite.js","webpack://restaurant-apps/./src/scripts/views/pages/home.js","webpack://restaurant-apps/./src/scripts/views/templates/template-creator.js"],"sourcesContent":["/* eslint-disable new-cap */\r\n/* eslint-disable max-len */\r\nimport UrlParser from '../../routes/url-parser';\r\nimport RestaurantSource from '../../data/resto-source';\r\nimport {createRestoDetailTemplate, createLoader} from '../templates/template-creator';\r\nimport LikeButtonInitiator from '../../utils/like-button-initiator';\r\nimport PostReview from '../../utils/post-review';\r\n\r\nconst Detail = {\r\n  async render() {\r\n    return `\r\n      <div class=\"container\">\r\n        <div id=\"loading\"></div>\r\n        <div id=\"main-container\"> \r\n          <section id=\"detail-resto\"></section>\r\n    `;\r\n  },\r\n\r\n\r\n  async afterRender() {\r\n    const url = UrlParser.parseActiveUrlWithoutCombiner();\r\n\r\n    const loading = document.querySelector('#loading');\r\n    const mainContainer = document.querySelector('#main-container');\r\n    const detailContainer = document.querySelector('#detail-resto');\r\n    mainContainer.style.display = 'none';\r\n    loading.innerHTML = createLoader();\r\n\r\n    try {\r\n      const data = await RestaurantSource.getRestaurantDetail(url.id);\r\n      const {restaurant} = data;\r\n      detailContainer.innerHTML += createRestoDetailTemplate(data.restaurant);\r\n      LikeButtonInitiator.init({\r\n        likeButtonContainer: document.querySelector('#likeButtonContainer'),\r\n        restaurant: {\r\n          id: restaurant.id,\r\n          name: restaurant.name,\r\n          pictureId: restaurant.pictureId,\r\n          city: restaurant.city,\r\n          rating: restaurant.rating,\r\n          description: restaurant.description,\r\n        },\r\n      });\r\n\r\n      mainContainer.style.display = 'block';\r\n      loading.style.display = 'none';\r\n\r\n      const btnSubmitReview = document.querySelector('#submit-review');\r\n      const nameInput = document.querySelector('#name-input');\r\n      const reviewInput = document.querySelector('#review-input');\r\n\r\n      btnSubmitReview.addEventListener('click', async (e) => {\r\n        e.preventDefault();\r\n\r\n        await PostReview(url, nameInput.value, reviewInput.value);\r\n\r\n        nameInput.value = '';\r\n        reviewInput.value = '';\r\n      });\r\n    } catch (err) {\r\n      console.error(err);\r\n\r\n      mainContainer.style.display = 'block';\r\n      loading.style.display = 'none';\r\n      detailContainer.innerHTML = `Error: ${err.message}`;\r\n    }\r\n  },\r\n};\r\n\r\nexport default Detail;\r\n","/* eslint-disable max-len */\r\nimport FavoriteRestoIdb from '../../data/resto-idb';\r\nimport {createRestoItemTemplate} from '../templates/template-creator';\r\n\r\nconst Favorite = {\r\n  async render() {\r\n    return `\r\n      <div class=\"container\">\r\n        <h2 class=\"title-container\">Favorite Restaurant</h2>\r\n\r\n        <section id=\"fav-resto\"></section>\r\n      </div>\r\n    `;\r\n  },\r\n\r\n  async afterRender() {\r\n    const data = await FavoriteRestoIdb.getAllResto();\r\n\r\n    const favRestoContainer = document.querySelector('#fav-resto');\r\n\r\n    if (data.length === 0) {\r\n      favRestoContainer.innerHTML = `\r\n        Opss...Anda belum memiliki restaurant favorite:)\r\n      `;\r\n    }\r\n\r\n    data.forEach((resto) => {\r\n      favRestoContainer.innerHTML += createRestoItemTemplate(resto);\r\n    });\r\n  },\r\n};\r\n\r\nexport default Favorite;\r\n","/* eslint-disable max-len */\r\n/* eslint-disable new-cap */\r\nimport RestaurantSource from '../../data/resto-source';\r\nimport {createRestoItemTemplate, createLoader} from '../templates/template-creator';\r\n\r\nconst Home = {\r\n  async render() {\r\n    return `\r\n      <div class=\"container\">\r\n        <div id=\"loading\"></div>\r\n\r\n        <div id=\"main-container\">\r\n          <h1 tabindex=\"0\" class=\"main-content__title\">Explore Restaurant</h1>\r\n\r\n          <section id=\"explore-restaurant\"></section>\r\n        </div>\r\n      </div>\r\n    `;\r\n  },\r\n\r\n  async afterRender() {\r\n    const loading = document.querySelector('#loading');\r\n    const mainContainer = document.querySelector('#main-container');\r\n    const listContainer = document.querySelector('#explore-restaurant');\r\n\r\n    mainContainer.style.display = 'none';\r\n    loading.innerHTML = createLoader();\r\n\r\n    try {\r\n      const data = await RestaurantSource.getRestaurantList();\r\n\r\n      data.restaurants.forEach((restaurant) => {\r\n        listContainer.innerHTML += createRestoItemTemplate(restaurant);\r\n      });\r\n\r\n      loading.style.display = 'none';\r\n      mainContainer.style.display = 'block';\r\n    } catch (err) {\r\n      console.error(err);\r\n\r\n      mainContainer.style.display = 'block';\r\n      loading.style.display = 'none';\r\n      listContainer.innerHTML = `Error: ${err.message}`;\r\n    }\r\n  },\r\n};\r\n\r\nexport default Home;\r\n","/* eslint-disable indent */\r\n/* eslint-disable require-jsdoc */\r\n/* eslint-disable max-len */\r\nimport CONFIG from '../../global/config';\r\n\r\nconst createRestoItemTemplate = (data) => `\r\n    <div tabindex=\"0\" class=\"card\" aria-label=\"restaurant ${data.name}\">\r\n      <a href=\"#/resto/${data.id}\" class=\"card-a-tag\">\r\n        <div class=\"img-container\">\r\n          <img class=\"card-image lazyload\" alt=\"${data.name}\" data-src=\"${CONFIG.BASE_IMAGE_URL + data.pictureId}\"/>\r\n          <span class=\"card-city\">\r\n            <span>${data.city}</span>\r\n          </span>\r\n        </div>\r\n\r\n        <div class=\"card-content\">\r\n        <p class=\"card-content-rating\">\r\n          <p class=\"rating\">Rating: </p>\r\n          <span>${data.rating}</span></p>\r\n          <h1 class=\"card-content-title\">${data.name}</h1>\r\n          <p class=\"restaurant-description\">${data.description}</p>\r\n        </div>\r\n      </a>\r\n    </div>\r\n  `;\r\nconst createRestoDetailTemplate = (data) => `\r\n  <div class=\"detail\">\r\n  <div class=\"likeContainer\" id=\"likeButtonContainer\"></div>\r\n\r\n    <div class=\"img-container\">\r\n        <img class=\"detail-img\" alt=\"${data.name}\" src=\"${CONFIG.BASE_IMAGE_URL + data.pictureId}\"/>\r\n    </div>\r\n\r\n    <ul class=\"detail-info\">\r\n      <li>\r\n        <p class=\"detail-name-address-rating\">${data.name}</p>\r\n      </li>\r\n\r\n      <li>\r\n        <p class=\"detail-name-address-rating\">Location : ${data.address}, ${data.city}\r\n        </p>\r\n      </li>\r\n\r\n      <li>\r\n        <p class=\"detail-rating\">\r\n          <i title=\"ratings\" class=\"fa fa-star\"></i>\r\n          <span>${data.rating}</span>\r\n        </p>\r\n      </li>\r\n\r\n      <li><p class=\"detail-desc\">${data.description}</p></li>\r\n\r\n      <li>${data.categories.map(\r\n          (category) => `<span class=\"category\">${category.name}</span>\r\n          `,\r\n          ).join('')}\r\n      </li>\r\n    </ul>\r\n    </div>\r\n    <h3>Menu</h3>\r\n    ${createRestoMenu(data)}\r\n      \r\n    <h3 class=\"title-review\">Reviews :</h3>\r\n    ${createReview(data)}\r\n    ${createFormReview()}\r\n  </div>\r\n`;\r\n\r\nconst createRestoMenu = (data) => `\r\n  <div class=\"detail-menu\">          \r\n    <details class=\"detail-food\">\r\n      <summary>Food</summary>\r\n      <ul>\r\n        ${data.menus.foods.map( (food, i) => `<li><p>${i + 1}. ${food.name}</p></li>`).join('')}\r\n      <ul>\r\n    </details>\r\n\r\n    <details class=\"detail-drink\">\r\n      <summary>Drink</summary>\r\n      <ul>\r\n        ${data.menus.drinks.map( (drink, i) => `<li><p>${i + 1}. ${drink.name}</p></li>`).join('')}\r\n      <ul>\r\n    </details>\r\n\r\n  </div>\r\n`;\r\n\r\nconst createReview = (data) => `\r\n  <div class=\"detail-review\">\r\n  ${data.customerReviews\r\n        .map(\r\n            (review) => `\r\n        <div class=\"detail-review-item\">\r\n          <div class=\"review-header\">\r\n            <p class=\"review-name\">${review.name} : ${review.review}</p>\r\n            <p class=\"review-date\">${review.date}</p>\r\n          </div>\r\n        </div>\r\n      `,\r\n        )\r\n        .join('')}\r\n  </div>\r\n`;\r\n\r\nconst createFormReview = () => `\r\n<section class=\"form-review\">\r\n  <form autocomplete=\"on\">\r\n    <label>Beri Review Resturant ini</label>\r\n    <div class=\"mb-3\">\r\n      <input type=\"text\" class=\"form-control\" id=\"name-input\" minlength=\"3\" placeholder=\"Name\" required>\r\n    </div>\r\n\r\n    <div class=\"mb-3\">\r\n      <input type=\"text\" class=\"form-control\" id=\"review-input\" minlength=\"3\" placeholder=\"Review.\" required>\r\n    </div>\r\n\r\n    <button id=\"submit-review\" type=\"submit\" class=\"submit-btn\">Posting</button>\r\n  </form>\r\n</section>\r\n`;\r\n\r\nconst createLoader = () => `\r\n<div class=\"loader\"></div>\r\n`;\r\n\r\nconst createLikeButtonTemplate = () =>`\r\n  <button aria-label=\"like this resto\" id=\"likeButton\" class=\"like\">\r\n    <i class=\"far fa-heart\" aria-hidden=\"true\"></i>\r\n  </button>\r\n`;\r\n\r\n\r\nconst createUnlikeButtonTemplate = () => `\r\n  <button aria-label=\"unlike this resto\" id=\"likeButton\" class=\"like\">\r\n    <i class=\"fas fa-heart\" aria-hidden=\"true\"></i>\r\n  </button>\r\n`;\r\n\r\nexport {createRestoItemTemplate, createRestoMenu, createReview, createFormReview, createRestoDetailTemplate, createLikeButtonTemplate, createUnlikeButtonTemplate, createLoader};\r\n"],"names":["render","afterRender","url","UrlParser","loading","document","querySelector","mainContainer","detailContainer","style","display","innerHTML","createLoader","RestaurantSource","id","data","restaurant","createRestoDetailTemplate","LikeButtonInitiator","likeButtonContainer","name","pictureId","city","rating","description","btnSubmitReview","nameInput","reviewInput","addEventListener","e","preventDefault","PostReview","value","console","error","message","i","FavoriteRestoIdb","favRestoContainer","length","forEach","resto","createRestoItemTemplate","listContainer","restaurants","CONFIG","address","categories","map","category","join","createRestoMenu","createReview","createFormReview","menus","foods","food","drinks","drink","customerReviews","review","date","createLikeButtonTemplate","createUnlikeButtonTemplate"],"sourceRoot":""}